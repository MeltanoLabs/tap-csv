version: 1
send_anonymous_usage_stats: true
project_id: tap-csv
plugins:
  extractors:
  - name: tap-csv
    namespace: tap_csv
    executable: -e .
    capabilities:
    - state
    - catalog
    - discover
    config:
      files:
      - entity: alphabet
        file: alphabet.csv
        path: ./tap_csv/tests/data/
        keys:
        - col1
      add_metadata_columns: false
    settings_group_validation:
      - [ftp.host]
      - [github.org, github.repo]
    settings:
      - name: filesystem
        kind: options
        options:
          - label: Local Filesystem
            value: local
          - label: FTP
            value: ftp
          - label: GitHub
            value: github

      # FTP settings
      - name: ftp.host
        label: FTP Host
        description: Hostname of the FTP server
        kind: string
      - name: ftp.port
        label: FTP Port
        description: Port of the FTP server
        kind: integer
      - name: ftp.username
        label: FTP Username
        description: Username for the FTP server
        kind: string
      - name: ftp.password
        label: FTP Password
        description: Password for the FTP server
        kind: password
        sensitive: true
      - name: ftp.encoding
        label: FTP Encoding
        description: Encoding for the FTP server
        kind: string

      # GitHub settings
      - name: github.org
        label: GitHub Organization
        description: Organization name on GitHub
        kind: string
      - name: github.repo
        label: GitHub Repository
        description: Repository name on GitHub
        kind: string
      - name: github.username
        label: GitHub Username
        description: Username for GitHub
        kind: string
      - name: github.token
        label: GitHub Token
        description: Token for GitHub
        kind: password
        sensitive: true

      # Dropbox settings
      - name: dropbox.token
        label: Dropbox Token
        description: Token for Dropbox
        kind: password
        sensitive: true

      - name: files
        description: Array of objects containing keys - `entity`, `path`, `keys`, `encoding` (Optional), `delimiter` (Optional), `doublequote` (Optional), `escapechar` (Optional), `quotechar` (Optional), `skipinitialspace` (Optional), `strict` (Optional)
        kind: array
      - name: csv_files_definition
        description: "Project-relative path to JSON file holding array of objects with keys: `entity`, `path`, `keys`, and `encoding` (Optional)."
        documentation: https://gitlab.com/meltano/tap-csv#run
        label: CSV Files Definition
        placeholder: Ex. files-def.json
      - name: add_metadata_columns
        description: When True, add the metadata columns (`_sdc_source_file`, `_sdc_source_file_mtime`, `_sdc_source_lineno`) to output.
        kind: boolean

  loaders:
  - name: target-jsonl
    variant: andyh1203
    pip_url: target-jsonl
